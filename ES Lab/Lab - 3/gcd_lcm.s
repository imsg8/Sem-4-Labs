	AREA RESET, DATA, READONLY
	EXPORT __Vectors
__Vectors 
	DCD 0x40001000
	DCD Reset_Handler
	ALIGN
	AREA mycode, CODE, READONLY
	ENTRY
	EXPORT Reset_Handler
Reset_Handler
	LDR R0, =VAL1
	LDR R1, =VAL2
	LDR R2, =GCD
	LDR R3, =LCM
	LDR R4, [R0]
	LDR R5, [R1]
	MUL R7, R4, R5
	
L2	CMP R4, R5
	BEQ EXIT
	BCS L1
	SUBS R5, R4
	B L2

L1	SUBS R4, R5
	B L2

EXIT
	STR R4, [R2] ;R4 HAS GCD
    ;R7 HAS VAL1xVAL2
	MOV R8, #0
	
	;FOR R7/R4 USING REPEATED SUBTRACTION
L4	CMP R7, R4
	BCC L3
	SUBS R7,R4
	ADD	R8,#1
	B L4
L3	STR R8, [R3]
	
STOP
	B STOP
VAL1 DCD 5
VAL2 DCD 3
	AREA mydata, DATA, READWRITE
GCD DCD 0
LCM DCD 0
	END